{"version":3,"file":"avosignals-util.js","sourceRoot":"","sources":["../avosignals-util.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,cAAc,CAAC;AAEtC,0EAA0E;AAC1E,MAAM,UAAU,YAAY,CAAC,KAAkB;IAE3C,MAAM,MAAM,GAA2B,EAAE,CAAC;IAE1C,MAAM,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;IAExB,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;QACrB,OAAO,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YAClB,IAAI,IAAI,YAAY,MAAM,EAAE,CAAC;gBACzB,OAAO,YAAY,CAAC,IAAI,CAAC,CAAC;YAC9B,CAAC;iBAAM,CAAC;gBACJ,OAAO,IAAI,CAAC;YAChB,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;SAAM,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,EAAE,CAAC;QACjD,KAAK,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC;YACpB,MAAM,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,IAAI,YAAY,MAAM,EAAE,CAAC;gBACzB,MAAM,CAAC,GAAG,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;YACrC,CAAC;iBAAM,CAAC;gBACJ,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;YACvB,CAAC;QACL,CAAC;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;SAAM,CAAC;QACJ,OAAO,GAAG,CAAC;IACf,CAAC;AACL,CAAC","sourcesContent":["import { Signal } from \"./avosignals\";\n\n//TODO - function which returns JSON with possibly nested Signals resolved\nexport function singalToJSON(value: Signal<any>): { [key: string]: any } {\n    \n    const result: { [key: string]: any } = {};\n\n    const val = value.get();\n\n    if (Array.isArray(val)) {\n        return val.map(item => {\n            if (item instanceof Signal) {\n                return singalToJSON(item);\n            } else {\n                return item;\n            }\n        });\n    } else if (typeof val === 'object' && val !== null) {\n        for (const key in val) {\n            const item = val[key];\n            if (item instanceof Signal) {\n                result[key] = singalToJSON(item);\n            } else {\n                result[key] = item;\n            }\n        }\n        return result;\n    } else {\n        return val;\n    }\n}\n"]}